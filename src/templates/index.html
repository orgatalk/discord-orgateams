<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>OrgaTalk Discord â€“ Orga team roles and memberships</title>
    <style>
      :root {
        --dimmed: #8e9297;
        --link-color: #cccccc;
      }

      body {
        background-color: #2f3136;
        color: #fcfcfc;
        font-family: sans-serif;
        font-size: 16px;
        margin: 0 auto;
        max-width: 768px;
        padding: 1.5rem 1rem;
      }

      a {
        color: var(--link-color);
      }

      h1 {
        font-size: 2rem;
        font-weight: normal;
        line-height: 1.2;
        margin-bottom: 0.5rem;
        margin-top: 0;
      }

      .roles-count {
        color: var(--dimmed);
        display: block;
        font-size: 1.25rem;
        margin-bottom: 3rem;
      }

      .roles {
        --column-min-width: 140px;
        display: grid;
        gap: 2rem;
        grid-template-columns: repeat(auto-fill, minmax(var(--column-min-width), 1fr));
      }

      .role-name {
        border-bottom: var(--role-color, currentColor) solid 1px;
        display: block;
        margin-bottom: 0.25rem;
        padding-bottom: 0.25rem;
      }

      summary {
        color: var(--dimmed);
        cursor: pointer;
        display: block;
      }

      summary:hover .role-member-count {
        text-decoration: underline;
      }

      .role-member-count {
        color: var(--dimmed);
        font-size: 0.875rem;
      }

      .role-members {
        font-size: 0.75rem;
        line-height: 1.5;
        list-style: none;
        margin: 0.5rem 0 0;
        padding: 0;
      }

      footer {
        color: var(--dimmed);
        font-size: 0.75rem;
        margin-top: 4rem;
        text-align: center;
      }
    </style>
  </head>
  <body>

    <main>
      <h1>OrgaTalk Discord<br>Orga team roles and memberships</h1>
      <div class="roles-count">{{ roles|length }} {% if roles|length == 1 %}Team{% else %}Teams{% endif %}</div>

      <div class="roles">
        {%- for role in roles %}
        <div class="role">
          <div class="role-name" style="--role-color: {{ role.color_hex }};">{{ role.name }}</div>
          <details>
            <summary><span class="role-member-count">{{ role.member_names|length }} {% if role.member_names|length == 1 %}Mitglied{% else %}Mitglieder{% endif %}</span></summary>
            <ol class="role-members">
              {%- for member_name in role.member_names %}
              <li>{{ member_name }}</li>
              {%- endfor %}
            </ol>
          </details>
        </div>
        {%- endfor %}
      </div>
    </main>

    <footer>
      <div>Generated by <a href="https://github.com/orgatalk/discord-orgateams/">OrgaTalk roles exporter</a> at <time datetime="{{ generated_at|date(format='%+') }}">{{ generated_at|date(format='%Y-%m-%d %H:%M:%S%:z') }}</time>.</div>
    </footer>

  </body>
</html>

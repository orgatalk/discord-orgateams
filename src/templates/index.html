<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="OrgaTalk Roles Exporter for Discord">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ title }}{% if subtitle %} â€“ {{ subtitle }}{% endif %}</title>
    <style>
      :root {
        --dimmed: #8e9297;
        --link-color: #cccccc;
      }

      body {
        background-color: #2f3136;
        color: #fcfcfc;
        font-family: sans-serif;
        font-size: 16px;
        line-height: 1.5;
        margin: 0 auto;
        max-width: 1200px;
        padding: 1.5rem 1rem;
      }

      a {
        color: var(--link-color);
      }

      .title,
      .subtitle {
        font-weight: normal;
        margin: 0;
      }

      .title {
        font-size: 2.25rem;
        line-height: 1.2;
      }

      .subtitle {
        font-size: 1.25rem;
        margin-top: 0.25rem;
      }

      .counts {
        color: var(--dimmed);
        display: block;
        margin: 1.5rem 0 1.75rem 0;
      }

      .roles {
        --column-min-width: 200px;
        display: grid;
        gap: 2rem;
        grid-template-columns: repeat(auto-fill, minmax(var(--column-min-width), 1fr));
      }

      .role-name {
        border-bottom: var(--role-color, currentColor) solid 1px;
        display: block;
        margin-bottom: 0.25rem;
        padding-bottom: 0.25rem;
      }

      summary {
        color: var(--dimmed);
        cursor: pointer;
        display: block;
      }

      summary:hover .role-member-count {
        text-decoration: underline;
      }

      .role-member-count {
        color: var(--dimmed);
        font-size: 0.875rem;
      }

      .role-members {
        font-size: 0.75rem;
        line-height: 1.5;
        list-style: none;
        margin: 0.5rem 0 0;
        padding: 0;
      }

      footer {
        color: var(--dimmed);
        font-size: 0.75rem;
        margin-top: 4rem;
        text-align: center;
      }
    </style>
  </head>
  <body>

    <main>
      <h1 class="title">{{ title }}</h1>
      {%- if subtitle %}
      <div class="subtitle">{{ subtitle }}</div>
      {%- endif %}

      <div class="counts">{{ user_count }} {% if user_count == 1 %}user{% else %}users{% endif %} in {{ roles|length }} {% if roles|length == 1 %}team{% else %}teams{% endif %}</div>

      <div class="roles">
        {%- for role in roles %}
        <div class="role">
          <div class="role-name" style="--role-color: {{ role.color_hex }};">{{ role.name }}</div>
          <details>
            <summary><span class="role-member-count">{{ role.member_names|length }} {% if role.member_names|length == 1 %}member{% else %}members{% endif %}</span></summary>
            <ol class="role-members">
              {%- for member_name in role.member_names %}
              <li>{{ member_name }}</li>
              {%- endfor %}
            </ol>
          </details>
        </div>
        {%- endfor %}
      </div>
    </main>

    <footer>
      <div>Generated by <a href="https://github.com/orgatalk/discord-orgateams/">OrgaTalk Roles Exporter for Discord</a> at <time datetime="{{ generated_at|date(format='%+') }}">{{ generated_at|date(format='%Y-%m-%d %H:%M:%S%:z') }}</time>.</div>
    </footer>

  </body>
</html>
